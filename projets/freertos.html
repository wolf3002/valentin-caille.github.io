<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Projet FreeRTOS - Syst√®mes Temps R√©el - Valentin CAILLE">

    <!-- Security Headers -->
    <meta http-equiv="X-Content-Type-Options" content="nosniff">
    <meta http-equiv="X-Frame-Options" content="SAMEORIGIN">
    <meta http-equiv="X-XSS-Protection" content="1; mode=block">
    <meta name="referrer" content="strict-origin-when-cross-origin">
    <meta http-equiv="Permissions-Policy" content="geolocation=(), microphone=(), camera=()">

    <!-- Content Security Policy -->
    <meta http-equiv="Content-Security-Policy" content="default-src 'self'; script-src 'self' 'unsafe-inline'; style-src 'self' 'unsafe-inline'; img-src 'self' data: https:; font-src 'self' data:; media-src 'self'; connect-src 'self';">

    <title>Syst√®mes Temps R√©el avec FreeRTOS | Valentin CAILLE</title>
    <link rel="stylesheet" href="../css/styles.css">
</head>
<body>

    <!-- Navigation -->
    <nav class="navbar scrolled">
        <div class="container nav-container">
            <a href="../index.html" class="logo">VC</a>
            <a href="../index.html#projets" class="btn btn-secondary" style="padding: 0.6rem 1.5rem; font-size: 0.95rem;">
                ‚Üê Retour aux projets
            </a>
        </div>
    </nav>

    <!-- Hero du projet -->
    <section class="hero" style="min-height: 60vh; padding-top: 120px;">
        <div class="container hero-container">
            <div class="hero-content">
                <span class="project-tag" style="margin-bottom: 1.5rem; display: inline-block;">RTOS ‚Ä¢ Embarqu√© ‚Ä¢ Temps R√©el</span>
                <h1 class="hero-title" style="margin-bottom: 1.5rem;">Syst√®me Temps R√©el FreeRTOS</h1>
                <p class="hero-description" style="max-width: 800px;">
                    D√©veloppement d'une application embarqu√©e temps r√©el utilisant FreeRTOS sur carte EFM32 Giant Gecko.
                    Impl√©mentation d'un compteur LCD contr√¥l√© par slider capacitif tactile avec architecture multit√¢che.
                </p>
            </div>
        </div>
    </section>

    <!-- Contenu principal -->
    <section class="section">
        <div class="container" style="max-width: 900px;">

            <!-- Vue d'ensemble -->
            <div class="about-card" style="margin-bottom: 3rem;">
                <h2 class="card-title">üìã Vue d'ensemble</h2>
                <p class="card-text">
                    Ce projet de travaux pratiques a consist√© √† d√©velopper une <strong>application embarqu√©e temps r√©el</strong>
                    utilisant FreeRTOS sur la carte de d√©veloppement EFM32 Giant Gecko STK3700A. L'application impl√©mente
                    un <strong>compteur num√©rique</strong> affich√© sur un √©cran LCD √† segments, contr√¥l√© par un
                    <strong>slider capacitif tactile</strong>.
                </p>
                <p class="card-text">
                    Le syst√®me d√©tecte les mouvements de glissement sur le slider et incr√©mente ou d√©cr√©mente le compteur
                    en fonction de la direction. L'architecture repose sur <strong>deux t√¢ches FreeRTOS</strong> communiquant
                    via une file d'attente (queue), d√©montrant ainsi les principes de synchronisation et de communication
                    inter-t√¢ches dans un contexte temps r√©el.
                </p>
            </div>

            <!-- Objectifs -->
            <div class="about-card" style="margin-bottom: 3rem;">
                <h2 class="card-title">üéØ Cahier des charges</h2>
                <ul class="skill-list">
                    <li>Afficher un compteur num√©rique sur l'√©cran LCD √† segments</li>
                    <li>D√©tecter les mouvements de glissement sur le slider capacitif (4 segments)</li>
                    <li>Incr√©menter le compteur lors d'un glissement vers la droite</li>
                    <li>D√©cr√©menter le compteur lors d'un glissement vers la gauche</li>
                    <li>Impl√©menter une architecture FreeRTOS avec t√¢ches et files d'attente</li>
                    <li>Permettre des valeurs n√©gatives pour le compteur</li>
                </ul>
            </div>

            <!-- Technologies utilis√©es -->
            <div class="about-card" style="margin-bottom: 3rem;">
                <h2 class="card-title">üõ†Ô∏è Technologies & Outils</h2>
                <div class="project-tech" style="margin-top: 1rem;">
                    <span class="tech-badge">FreeRTOS</span>
                    <span class="tech-badge">C</span>
                    <span class="tech-badge">ARM Cortex-M3</span>
                    <span class="tech-badge">LESENSE</span>
                    <span class="tech-badge">Simplicity Studio</span>
                    <span class="tech-badge">Capteurs Capacitifs</span>
                </div>
            </div>

            <!-- Architecture logicielle -->
            <div class="about-card" style="margin-bottom: 3rem;">
                <h2 class="card-title">‚öôÔ∏è Architecture Logicielle FreeRTOS</h2>

                <p class="card-text">
                    L'application suit une <strong>architecture modulaire</strong> bas√©e sur FreeRTOS avec deux t√¢ches
                    principales et une file d'attente pour la communication inter-t√¢ches.
                </p>

                <h3 style="color: var(--accent-color); margin-top: 1.5rem; margin-bottom: 0.75rem; font-size: 1.3rem;">
                    1. T√¢che vCapSenseTask (Priorit√© haute)
                </h3>
                <p class="card-text">
                    ‚Ä¢ <strong>R√¥le</strong> : Lecture p√©riodique du slider capacitif et d√©tection des mouvements<br>
                    ‚Ä¢ <strong>P√©riode</strong> : 50 ms (√©chantillonnage rapide)<br>
                    ‚Ä¢ <strong>D√©tection</strong> : Algorithme avec seuil d'hyst√©r√©sis (¬±3 positions)<br>
                    ‚Ä¢ <strong>Communication</strong> : Envoi de commandes INCREMENT/DECREMENT dans la queue
                </p>

                <h3 style="color: var(--accent-color); margin-top: 1.5rem; margin-bottom: 0.75rem; font-size: 1.3rem;">
                    2. T√¢che vLCDUpdateTask (Priorit√© normale)
                </h3>
                <p class="card-text">
                    ‚Ä¢ <strong>R√¥le</strong> : Gestion de l'affichage LCD et mise √† jour du compteur<br>
                    ‚Ä¢ <strong>Fonctionnement</strong> : Attente bloquante sur la queue (portMAX_DELAY)<br>
                    ‚Ä¢ <strong>Traitement</strong> : Incr√©mentation/d√©cr√©mentation selon les commandes re√ßues<br>
                    ‚Ä¢ <strong>Affichage</strong> : Mise √† jour imm√©diate du LCD (<1ms)
                </p>

                <h3 style="color: var(--accent-color); margin-top: 1.5rem; margin-bottom: 0.75rem; font-size: 1.3rem;">
                    3. File d'attente (Queue)
                </h3>
                <p class="card-text">
                    ‚Ä¢ <strong>Type</strong> : CounterCommand_t (√©num√©ration)<br>
                    ‚Ä¢ <strong>Profondeur</strong> : 10 √©l√©ments (√©vite la perte de commandes)<br>
                    ‚Ä¢ <strong>Mode</strong> : FIFO (First In, First Out)<br>
                    ‚Ä¢ <strong>Avantage</strong> : D√©couplage complet entre acquisition et affichage
                </p>
            </div>

            <!-- D√©fis techniques -->
            <div class="about-card" style="margin-bottom: 3rem;">
                <h2 class="card-title">üöß D√©fis Techniques Rencontr√©s</h2>

                <h3 style="color: var(--accent-color); margin-top: 1.5rem; margin-bottom: 0.75rem; font-size: 1.3rem;">
                    Probl√®me : Blocage lors de l'initialisation CAPLESENSE
                </h3>
                <p class="card-text">
                    <strong>Sympt√¥me :</strong> Le programme se bloquait ind√©finiment dans <code>CAPLESENSE_Init(false)</code>
                    lors de l'attente que le buffer LESENSE soit √† moiti√© plein.<br><br>

                    <strong>D√©marche de diagnostic :</strong><br>
                    ‚Ä¢ Programme de test avec LEDs pour identifier le point de blocage exact<br>
                    ‚Ä¢ Tentatives d'initialisation manuelle des horloges (LFRCO, LFA)<br>
                    ‚Ä¢ Tests de diff√©rents ordres d'initialisation LCD/CAPLESENSE<br>
                    ‚Ä¢ Analyse approfondie du code d'exemple officiel Silicon Labs<br><br>

                    <strong>Solution trouv√©e :</strong> Utiliser <code>CAPLESENSE_Init(true)</code> au lieu de <code>false</code>.
                    Le param√®tre <code>true</code> configure LESENSE en mode sleep initial pour permettre une calibration
                    correcte, avant activation du mode haute pr√©cision dans la t√¢che via <code>CAPLESENSE_setupLESENSE(false)</code>.
                </p>

                <h3 style="color: var(--accent-color); margin-top: 1.5rem; margin-bottom: 0.75rem; font-size: 1.3rem;">
                    Gestion des horloges partag√©es
                </h3>
                <p class="card-text">
                    <strong>Probl√®me :</strong> Le LCD et LESENSE partagent l'horloge basse fr√©quence LFA (LFRCO 32.768 kHz).<br><br>

                    <strong>Solution :</strong> Initialiser CAPLESENSE avant le LCD permet aux deux p√©riph√©riques de partager
                    correctement l'horloge LFA configur√©e par CAPLESENSE_Init().
                </p>
            </div>

            <!-- R√©sultats -->
            <div class="about-card" style="margin-bottom: 3rem;">
                <h2 class="card-title">üìä R√©sultats & Performances</h2>

                <h3 style="color: var(--accent-color); margin-top: 1rem; margin-bottom: 0.75rem; font-size: 1.2rem;">
                    Tests fonctionnels valid√©s
                </h3>
                <ul class="skill-list">
                    <li>D√©tection fiable des glissements sur le slider capacitif</li>
                    <li>Pas de faux d√©clenchements gr√¢ce au seuil d'hyst√©r√©sis (¬±3 positions)</li>
                    <li>R√©ponse instantan√©e (<50ms de latence totale)</li>
                    <li>Support des valeurs n√©gatives du compteur</li>
                    <li>Robustesse : glissements rapides sans perte de commandes</li>
                </ul>

                <h3 style="color: var(--accent-color); margin-top: 1.5rem; margin-bottom: 0.75rem; font-size: 1.2rem;">
                    Performance temps r√©el
                </h3>
                <p class="card-text">
                    ‚Ä¢ <strong>Latence syst√®me</strong> : <51ms (d√©tection slider ‚Üí affichage LCD)<br>
                    ‚Ä¢ <strong>Utilisation CPU</strong> : ~5% (t√¢che CapSense 2%, t√¢che LCD <1%)<br>
                    ‚Ä¢ <strong>Efficacit√© √©nerg√©tique</strong> : >95% du temps en mode veille gr√¢ce √† LESENSE autonome<br>
                    ‚Ä¢ <strong>P√©riode d'√©chantillonnage</strong> : 50ms maintenue sans jitter
                </p>

                <h3 style="color: var(--accent-color); margin-top: 1.5rem; margin-bottom: 0.75rem; font-size: 1.2rem;">
                    Comp√©tences techniques acquises
                </h3>
                <ul class="skill-list">
                    <li>Configuration et utilisation de FreeRTOS (t√¢ches, queues, priorit√©s)</li>
                    <li>Gestion des p√©riph√©riques Low Energy (LESENSE) pour capteurs capacitifs</li>
                    <li>Configuration complexe des arbres d'horloges sur microcontr√¥leur EFM32</li>
                    <li>D√©bogage m√©thodique de syst√®mes embarqu√©s (tests unitaires, LEDs de diagnostic)</li>
                    <li>Analyse et adaptation de code d'exemple constructeur</li>
                </ul>
            </div>

            <!-- R√©alisation pratique -->
            <div class="about-card" style="margin-bottom: 3rem;">
                <h2 class="card-title">üéØ R√©alisation pratique</h2>
                <p class="card-text">
                    <strong>Carte :</strong> EFM32 Giant Gecko STK3700A (Silicon Labs)<br>
                    <strong>MCU :</strong> EFM32GG990F1024 (ARM Cortex-M3, 48 MHz, 1024 KB Flash, 128 KB RAM)<br>
                    <strong>Environnement :</strong> Simplicity Studio (Silicon Labs IDE)<br>
                    <strong>RTOS :</strong> FreeRTOS (version int√©gr√©e au SDK)<br>
                    <strong>P√©riph√©riques :</strong> LCD 7 segments, Slider capacitif LESENSE (CH8-CH11), LEDs, Boutons
                </p>

                <!-- Vid√©o de d√©monstration -->
                <div style="margin-top: 2rem;">
                    <h3 style="color: var(--accent-color); margin-bottom: 1rem; font-size: 1.2rem;">
                        üé• Vid√©o de d√©monstration
                    </h3>
                    <div class="video-container" style="border-radius: 12px; overflow: hidden; border: 2px solid var(--border-color); background: var(--bg-gray); display: flex; justify-content: center; align-items: center; aspect-ratio: 16/9; min-height: 500px;">
                        <video class="video-rotated" controls style="height: 100%; width: auto; transform: rotate(-90deg);" muted>
                            <source src="../assets/projets/freertos/demo.mp4" type="video/mp4">
                            Votre navigateur ne supporte pas la vid√©o HTML5.
                        </video>
                    </div>

                    <style>
                        /* Responsive pour la vid√©o rot√©e */
                        @media (max-width: 768px) {
                            .video-container {
                                min-height: 300px !important;
                                aspect-ratio: auto !important;
                            }

                            .video-rotated {
                                height: 80% !important;
                                transform: rotate(-90deg) scale(0.8);
                            }
                        }

                        @media (max-width: 480px) {
                            .video-container {
                                min-height: 250px !important;
                            }

                            .video-rotated {
                                height: 70% !important;
                                transform: rotate(-90deg) scale(0.7);
                            }
                        }
                    </style>
                    <p style="color: var(--text-light); text-align: center; margin-top: 0.5rem; font-size: 0.9rem;">
                        <em>D√©monstration du compteur LCD contr√¥l√© par le slider capacitif tactile</em>
                    </p>
                </div>
            </div>

            <!-- Applications & Perspectives -->
            <div class="about-card">
                <h2 class="card-title">üöÄ Applications & Perspectives d'am√©lioration</h2>

                <h3 style="color: var(--accent-color); margin-top: 1rem; margin-bottom: 0.75rem; font-size: 1.2rem;">
                    Domaines d'application
                </h3>
                <p class="card-text">
                    Les comp√©tences acquises sur FreeRTOS et les capteurs capacitifs sont directement applicables dans :
                </p>
                <ul class="skill-list">
                    <li><strong>Interfaces tactiles embarqu√©es</strong> : Panneau de contr√¥le industriel, IHM v√©hicules</li>
                    <li><strong>IoT et objets connect√©s</strong> : Capteurs intelligents, wearables</li>
                    <li><strong>Syst√®mes temps r√©el critique</strong> : Automobile (ADAS), m√©dical, avionique</li>
                    <li><strong>Robotique</strong> : Contr√¥le multi-capteurs, navigation autonome</li>
                </ul>

                <h3 style="color: var(--accent-color); margin-top: 1.5rem; margin-bottom: 0.75rem; font-size: 1.2rem;">
                    Am√©liorations possibles
                </h3>
                <ul class="skill-list">
                    <li>Ajout de modes de comptage (rapide/lent, pas variable)</li>
                    <li>D√©tection de gestures complexes (tap, double-tap, swipe)</li>
                    <li>Passage en mode Energy Mode 2 (EM2) pour optimiser la consommation</li>
                    <li>Sauvegarde du compteur en m√©moire non-volatile (EEPROM)</li>
                    <li>Utilisation de DMA pour r√©duire l'intervention CPU</li>
                    <li>Calibration automatique du slider avec filtrage num√©rique avanc√©</li>
                </ul>

                <h3 style="color: var(--accent-color); margin-top: 1.5rem; margin-bottom: 0.75rem; font-size: 1.2rem;">
                    Le√ßon principale
                </h3>
                <p class="card-text">
                    L'importance de <strong>consulter et analyser le code d'exemple officiel du constructeur</strong>.
                    Le param√®tre critique <code>CAPLESENSE_Init(true)</code> n'√©tait pas √©vident sans l'√©tude approfondie
                    du d√©mo capsenselcd de Silicon Labs. Cette exp√©rience souligne l'importance de la m√©thodologie en
                    syst√®mes embarqu√©s : tests unitaires, diagnostic m√©thodique et compr√©hension des s√©quences d'initialisation.
                </p>
            </div>

        </div>
    </section>

    <!-- Navigation vers autres projets -->
    <section class="section section-light">
        <div class="container" style="text-align: center;">
            <h2 class="section-title">Autres projets</h2>
            <a href="../index.html#projets" class="btn btn-secondary">
                Voir tous les projets
            </a>
        </div>
    </section>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <p>&copy; 2025 Valentin CAILLE. Tous droits r√©serv√©s.</p>
                <p class="footer-note">Portfolio con√ßu avec HTML/CSS pur</p>
            </div>
        </div>
    </footer>

</body>
</html>
